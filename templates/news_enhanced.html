<!-- 뉴스 카드에 감정 표시 추가 CSS -->
<style>
/* 감정 뱃지 스타일 */
.news-sentiment-badge {
    position: absolute;
    top: 12px;
    right: 12px;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    backdrop-filter: blur(10px);
    z-index: 10;
}

.news-sentiment-badge.positive {
    background: rgba(34, 197, 94, 0.1);
    color: #16a34a;
    border: 1px solid rgba(34, 197, 94, 0.3);
}

.news-sentiment-badge.negative {
    background: rgba(239, 68, 68, 0.1);
    color: #dc2626;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

/* 감정 점수 막대 */
.news-sentiment-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: #e5e5e5;
    overflow: hidden;
}

.news-sentiment-bar-fill {
    height: 100%;
    transition: width 0.3s ease;
}

.news-sentiment-bar-fill.positive {
    background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%);
}

.news-sentiment-bar-fill.negative {
    background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);
}

/* 키워드 태그 */
.news-keywords {
    display: flex;
    gap: 6px;
    margin-top: 8px;
    flex-wrap: wrap;
}

.news-keyword-tag {
    padding: 2px 8px;
    background: rgba(20, 84, 254, 0.08);
    color: #1454FE;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

/* 중요도 표시 */
.news-importance {
    position: absolute;
    top: 12px;
    left: 12px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: 700;
    background: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.news-importance.high {
    color: #dc2626;
    border: 2px solid #dc2626;
}

.news-importance.medium {
    color: #f59e0b;
    border: 2px solid #f59e0b;
}

.news-importance.low {
    color: #6b7280;
    border: 2px solid #6b7280;
}
</style>

<!-- 개선된 뉴스 카드 템플릿 -->
<script>
function renderEnhancedNewsCard(news) {
    // 감정 점수를 퍼센트로 변환 (0-100)
    const sentimentPercent = Math.abs(news.sentiment_score * 100);
    
    // 중요도에 따른 클래스
    const importanceClass = news.importance_score >= 80 ? 'high' : 
                           news.importance_score >= 50 ? 'medium' : 'low';
    
    return `
        <a href="${news.link || '#'}" target="_blank" class="news-card enhanced" data-news-id="${news.id}">
            <div class="news-card-content">
                <!-- 중요도 표시 -->
                ${news.importance_score >= 70 ? `
                    <div class="news-importance ${importanceClass}">
                        ${news.importance_score}
                    </div>
                ` : ''}
                
                <!-- 감정 뱃지 -->
                <div class="news-sentiment-badge ${news.sentiment === '긍정' ? 'positive' : 'negative'}">
                    ${news.sentiment}
                </div>
                
                <div class="news-category">${news.category || '종합'}</div>
                <h3 class="news-title">${news.title}</h3>
                <p class="news-summary">${news.summary || news.content}</p>
                
                <!-- 키워드 표시 -->
                ${news.keywords && news.keywords.length > 0 ? `
                    <div class="news-keywords">
                        ${news.keywords.slice(0, 3).map(keyword => 
                            `<span class="news-keyword-tag">${keyword}</span>`
                        ).join('')}
                    </div>
                ` : ''}
                
                <div class="news-meta">
                    <div class="news-meta-left">
                        <span class="news-source">${news.source || '픽시 뉴스'}</span>
                        <span class="news-time">${news.time || '방금 전'}</span>
                    </div>
                    <div class="news-meta-right">
                        <button class="news-like-btn ${news.isLiked ? 'liked' : ''}" 
                                data-news-id="${news.id}" 
                                onclick="event.preventDefault(); event.stopPropagation(); toggleLike(this);">
                            <svg class="news-like-icon" viewBox="0 0 24 24">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>
                            <span class="news-like-count">${news.likes || 0}</span>
                        </button>
                    </div>
                </div>
                
                <!-- 감정 점수 막대 -->
                <div class="news-sentiment-bar">
                    <div class="news-sentiment-bar-fill ${news.sentiment === '긍정' ? 'positive' : 'negative'}" 
                         style="width: ${sentimentPercent}%"></div>
                </div>
            </div>
        </a>
    `;
}
</script>